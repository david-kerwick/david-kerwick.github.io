---
layout: post
title: Java Mission Control and Weblogic Dynamic Server
date: '2014-04-23T20:38:00.002+01:00'
author: David
tags:
- weblogic
modified_time: '2014-04-23T22:09:55.728+01:00'
blogger_id: tag:blogger.com,1999:blog-2027514548288128942.post-4971739960715300893
blogger_orig_url: http://davidkerwick.blogspot.com/2014/04/java-mission-control-and-weblogic.html
---

So the problem with dynamic servers is they are dynamic...<br />Most of the time this is fine, Weblogic has ways and means of handling them, it assigns dynamic listen ports etc...<br />But just say you want to set up Java Mission Control, you need to set up a jmxremote port, fine if you have things on separate addresses and can use the same port. &nbsp;Not so good if it's all on the one machine and you need different ports. &nbsp;Weblogic handles it's own ports, but it's up to you to figure something out for jmx.<br /><br />I thought ${id} would work, it does not<br />so here is what I have.<br />In the setDomainEnv.sh I've added<br /><br /><pre class="brush: bash">echo "Server name is ${SERVER_NAME}"<br />if [ "${SERVER_NAME}" = "AdminServer" ] ; then<br />        echo "Found AdminServer, no need for jmx port"<br />        <br />else<br />        echo "Found a managed server"<br />        SERVER_ID=${SERVER_NAME: -1}<br />        export SERVER_ID<br />        echo "Server ID is ${SERVER_ID}"<br />        JAVA_OPTIONS="${JAVA_OPTIONS} -Djavax.management.builder.initial=weblogic.management.jmx.mbeanserver.WLSMBeanServerBuilder  -Dcom.sun.management.jmxremote.authenticate=false  -Dcom.sun.management.jmxremote.ssl=false  -Dcom.sun.management.jmxremote.port=709${SERVER_ID} -Dcom.sun.management.jmxremote.rmi.port=709${SERVER_ID}  -Djava.rmi.server.hostname=gmslx071-vm.sspcrs.intra -Dcom.sun.management.jmxremote.local.only=false"<br />        export JAVA_OPTIONS<br />fi<br /></pre><br />