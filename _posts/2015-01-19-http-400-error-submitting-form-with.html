---
layout: post
title: Http 400 Error Submitting a Form With Errors With Spring
date: '2015-01-19T20:47:00.001Z'
author: David
tags: 
modified_time: '2015-01-19T20:47:29.661Z'
thumbnail: http://1.bp.blogspot.com/-TrReH9mnDcs/VL1pze7ZqWI/AAAAAAAAFYA/J4WHLQ8WSP8/s72-c/Screen%2BShot%2B2015-01-19%2Bat%2B20.28.33.png
blogger_id: tag:blogger.com,1999:blog-2027514548288128942.post-5946017471358651403
blogger_orig_url: http://davidkerwick.blogspot.com/2015/01/http-400-error-submitting-form-with.html
---

So I got a http 400 error when testing a form I thought used to work.<br />Something like this<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-TrReH9mnDcs/VL1pze7ZqWI/AAAAAAAAFYA/J4WHLQ8WSP8/s1600/Screen%2BShot%2B2015-01-19%2Bat%2B20.28.33.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-TrReH9mnDcs/VL1pze7ZqWI/AAAAAAAAFYA/J4WHLQ8WSP8/s1600/Screen%2BShot%2B2015-01-19%2Bat%2B20.28.33.png" height="216" width="640" /></a></div><span id="goog_1003154505"></span><span id="goog_1003154506"></span><br />I'm using Spring MVC.<br />The form will submit fine if there are no errors but fails with a 400 error if there's a validation problem.<br /><br />It's likely the curse of the evil copy and paste.<br /><!-- HTML generated using hilite.me --><br /><div style="background: #ffffff; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><table><tbody><tr><td><pre style="line-height: 125%; margin: 0;">1<br />2<br />3</pre></td><td><pre style="line-height: 125%; margin: 0;"><span style="color: #555555; font-weight: bold;">@RequestMapping</span><span style="color: #333333;">(</span>method <span style="color: #333333;">=</span> RequestMethod<span style="color: #333333;">.</span><span style="color: #0000cc;">POST</span><span style="color: #333333;">,</span> value <span style="color: #333333;">=</span> <span style="background-color: #fff0f0;">"/something"</span><span style="color: #333333;">)</span><br />    <span style="color: #008800; font-weight: bold;">public</span> String <span style="color: #0066bb; font-weight: bold;">somethingPost</span><span style="color: #333333;">(</span>Model model<span style="color: #333333;">,</span> <span style="color: #555555; font-weight: bold;">@Valid</span> SomeForm form<span style="color: #333333;">,</span> <br />            HttpServletRequest req<span style="color: #333333;">,</span> BindingResult result<span style="color: #333333;">)</span> <span style="color: #333333;">{</span><br /></pre></td></tr></tbody></table></div><br />So it looks harmless enough but it should look like this<br /><br /><!-- HTML generated using hilite.me --><br /><div style="background: #ffffff; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><table><tbody><tr><td><pre style="line-height: 125%; margin: 0;">1<br />2<br />3</pre></td><td><pre style="line-height: 125%; margin: 0;"><span style="color: #555555; font-weight: bold;">@RequestMapping</span><span style="color: #333333;">(</span>method <span style="color: #333333;">=</span> RequestMethod<span style="color: #333333;">.</span><span style="color: #0000cc;">POST</span><span style="color: #333333;">,</span> value <span style="color: #333333;">=</span> <span style="background-color: #fff0f0;">"/something"</span><span style="color: #333333;">)</span><br />    <span style="color: #008800; font-weight: bold;">public</span> String <span style="color: #0066bb; font-weight: bold;">somethingPost</span><span style="color: #333333;">(</span>Model model<span style="color: #333333;">,</span> <span style="color: #555555; font-weight: bold;">@Valid</span> SomeForm form<span style="color: #333333;">,</span> <br />            BindingResult result<span style="color: #333333;">,</span> HttpServletRequest req<span style="color: #333333;">,)</span> <span style="color: #333333;">{</span><br /></pre></td></tr></tbody></table></div><br />The Binding result must follow the form, I had paste request in between them and borked the binding.<br /><br /><a href="http://docs.spring.io/spring/docs/4.1.x/spring-framework-reference/html/mvc.html#mvc-ann-methods">http://docs.spring.io/spring/docs/4.1.x/spring-framework-reference/html/mvc.html#mvc-ann-methods</a><br /><br /><!-- HTML generated using hilite.me --><br /><div style="background: #ffffff; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;">org<span style="color: #333333;">.</span><span style="color: #0000cc;">springframework</span><span style="color: #333333;">.</span><span style="color: #0000cc;">validation</span><span style="color: #333333;">.</span><span style="color: #0000cc;">Errors</span> <span style="color: #333333;">/</span> <br />org<span style="color: #333333;">.</span><span style="color: #0000cc;">springframework</span><span style="color: #333333;">.</span><span style="color: #0000cc;">validation</span><span style="color: #333333;">.</span><span style="color: #0000cc;">BindingResult</span> validation results <span style="color: #008800; font-weight: bold;">for</span> a <br />preceding command or form <span style="color: #0066bb; font-weight: bold;">object</span> <span style="color: #333333;">(</span>the immediately preceding <br />method argument<span style="color: #333333;">).</span> <br /></pre></div><br />