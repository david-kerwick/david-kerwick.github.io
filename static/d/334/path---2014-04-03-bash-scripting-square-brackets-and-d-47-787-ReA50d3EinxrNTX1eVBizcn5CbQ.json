{"data":{"site":{"siteMetadata":{"title":"Random Stuff About Stuff","author":"David Kerwick"}},"markdownRemark":{"id":"23bf557d-0d21-5a5e-970f-b0561c809ace","excerpt":"So I’m trying to create a startup script for Weblogic on Redhat. There’s a few out there, but I wanted one that did everything I wanted and that I also…","html":"<p>So I’m trying to create a startup script for Weblogic on Redhat.<br>\nThere’s a few out there, but I wanted one that did everything I wanted and that I also understood.<br>\nI’m not an admin so this scripting thing is a dark art to me.  </p>\n<p>I’ll hopefully have the actual script in a later post but for now I noticed alot of the lines below in example init scripts I came across.  </p>\n<p>For the start function  </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span> <span class=\"token variable\">${RETVAL}</span> -eq 0 <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">touch</span> <span class=\"token variable\">${LOCKFILE}</span></code></pre></div>\n<p>For the stop function   </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span> <span class=\"token variable\">${RETVAL}</span> -eq 0 <span class=\"token punctuation\">]</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">rm</span> -f <span class=\"token variable\">${LOCKFILE}</span></code></pre></div>\n<p>So creation and removal of the lock file, problem for me was I didn’t quite understand what it was doing exactly, examples and tutorials kind of gloss over it as something to basic to explain, which is fair enough it is a basic built in function, I just didn’t know about it.  </p>\n<p>In bash [ is a built in command for test it doesn’t need the if<br>\nIn bash &#x26;&#x26; is a control operator, this says if the previous command is true (exit status 0) continue on  </p>\n<p>So the above line is a shortcut for  </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span><span class=\"token variable\">${RETVAL}</span> -eq 0<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>  \n   <span class=\"token function\">touch</span> <span class=\"token variable\">${LOCKFILE}</span>  \n<span class=\"token keyword\">fi</span>  </code></pre></div>","frontmatter":{"title":"Bash scripting square brackets and ampersands ","date":"April 03, 2014"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2014-04-03-bash-scripting-square-brackets-and/","previous":{"fields":{"slug":"/2014-04-02-some-nice-tee/"},"frontmatter":{"title":"Some nice tee"}},"next":{"fields":{"slug":"/2014-04-03-weblogic-startup-service-for-redhat/"},"frontmatter":{"title":"Weblogic startup service for RedHat"}}}}