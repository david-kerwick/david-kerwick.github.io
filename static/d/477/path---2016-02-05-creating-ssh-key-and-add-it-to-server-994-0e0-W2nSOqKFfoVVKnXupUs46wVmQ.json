{"data":{"site":{"siteMetadata":{"title":"Random Stuff About Stuff","author":"David Kerwick"}},"markdownRemark":{"id":"332f164c-4afb-5482-ac93-390fa5463520","excerpt":"So it’s rare when I have to generate a new key and add it to a server to I forget the commands, they ain’t complex so here they are   To add to a server   Doh…","html":"<p>So it’s rare when I have to generate a new key and add it to a server to I forget the commands, they ain’t complex so here they are  </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">ssh-keygen -t rsa\nGenerating public/private rsa key pair.\nEnter <span class=\"token function\">file</span> <span class=\"token keyword\">in</span> <span class=\"token function\">which</span> to save the key <span class=\"token punctuation\">(</span>/Users/David/.ssh/id_rsa<span class=\"token punctuation\">)</span>:\nEnter passphrase <span class=\"token punctuation\">(</span>empty <span class=\"token keyword\">for</span> no passphrase<span class=\"token punctuation\">)</span>:\nEnter same passphrase again:\nYour identification has been saved <span class=\"token keyword\">in</span> /Users/David/.ssh/id_rsa.\nYour public key has been saved <span class=\"token keyword\">in</span> /Users/David/.ssh/id_rsa.pub.\nThe key fingerprint is:\n0a:9c:f7:43:dd:e8:5d:44:48:76:fd:30:ac:c9:cd:e2 David@DavidiMac.local\nThe key's randomart image is:\n+--<span class=\"token punctuation\">[</span> RSA 2048<span class=\"token punctuation\">]</span>----+\n<span class=\"token operator\">|</span>             <span class=\"token punctuation\">..</span> o<span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>             .+<span class=\"token punctuation\">..</span><span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>     o +    E.   <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>       o o o     <span class=\"token operator\">|</span>\n<span class=\"token operator\">|</span>       .+.o      <span class=\"token operator\">|</span>\n+-----------------+</code></pre></div>\n<p>To add to a server  </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">\t\nsystem@192.168.1.160's password:\nbash: .ssh/authorized_keys: No such <span class=\"token function\">file</span> or directory</code></pre></div>\n<p>Doh!<br>\nNeed to create the .ssh folder on the server system first  </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">ssh</span> system@192.168.1.160 <span class=\"token function\">mkdir</span> -p .ssh\nsystem@192.168.1.160's password:</code></pre></div>\n<p>Try the command above again and we should be good.  </p>\n<p>Except that doesn’t always work, ubuntu isn’t happy.  </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> .ssh/id_rsa.pub <span class=\"token operator\">|</span> <span class=\"token function\">ssh</span> system@192.168.1.160 <span class=\"token string\">'cat >> .ssh/authorized_keys2'</span>\nsystem@192.168.1.160's password:\nbash: .ssh/authorized_keys: No such <span class=\"token function\">file</span> or directory</code></pre></div>\n<p>Still not happy?  </p>\n<p>Time to actually log in to the server to start changing permissions  </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">system@ubuntu:~$ <span class=\"token function\">cd</span>\nsystem@ubuntu:~$ <span class=\"token function\">pwd</span>\n/home/system\nsystem@ubuntu:~$ <span class=\"token function\">chmod</span> 700 .ssh\nsystem@ubuntu:~$ <span class=\"token function\">cd</span> .ssh/\nsystem@ubuntu:~/.ssh$ <span class=\"token function\">chmod</span> 640 authorized_keys2\nsystem@ubuntu:~/.ssh$</code></pre></div>","frontmatter":{"title":"Creating an SSH key and add it to a server","date":"March 25, 2015"}}},"pageContext":{"slug":"/2016-02-05-creating-ssh-key-and-add-it-to-server/","previous":{"fields":{"slug":"/2015-01-26-exclude-generated-files-from-sonar/"},"frontmatter":{"title":"Exclude Generated Files From Sonar Analysis"}},"next":{"fields":{"slug":"/2015-06-17-getting-started-with-jekyll/"},"frontmatter":{"title":"Getting started with Jekyll"}}}}