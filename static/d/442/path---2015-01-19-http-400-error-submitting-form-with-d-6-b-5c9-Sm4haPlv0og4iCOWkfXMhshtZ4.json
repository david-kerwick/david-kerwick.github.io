{"data":{"site":{"siteMetadata":{"title":"Random Stuff About Stuff","author":"David Kerwick"}},"markdownRemark":{"id":"8936ed02-810c-5eff-ae01-6e9e1b4c5689","excerpt":"So I got a http 400 error when testing a form I thought used to work. Something like this   I’m using Spring MVC. The form will submit fine if there are no…","html":"<p>So I got a http 400 error when testing a form I thought used to work.<br>\nSomething like this  </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2e4abca526d47cf7c869109c298e8b2c/53236/error-screenshot.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 545px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 33.76146788990826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABJElEQVQoz6WQUUvCUBiG93O7qIugfoQZhHRVFxEaQUVqU2cqOoeVVgSZkXOzec42zzEH2ugunW/HBVEXQdKBh/fl4Tvw8Ul7CRm7+2kcnpzj4CiP7Z1jJOUKorE4llYjWFnfxPJa9M9I9y0DbYPCIkzQx5NuoWNSNIWv37TQuH1cCKmtmxgOB2CcYzJ5x3+fVCzX4fY5ZrNgoY/TaYBpEHzmN6Rq7Q7Nhw48z4NtU7iOA84ZBgMutmZgrA/muiCEhN4V3ff93zfUTQKjS0Gpi2dL3LJno0ecMC1igwhPqBO6eZ97xl8wfn3DaOxj6I1+IOUKF0hmVCjFK5zKKtI5DfmS6GcVpLJVFMoNlNTrMFNZDZl8TcxeQhEzsqIhshXHRizxxQfkbOhouj9iyQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Error Screenshot\"\n        title=\"\"\n        src=\"/static/2e4abca526d47cf7c869109c298e8b2c/53236/error-screenshot.png\"\n        srcset=\"/static/2e4abca526d47cf7c869109c298e8b2c/cf440/error-screenshot.png 148w,\n/static/2e4abca526d47cf7c869109c298e8b2c/d2d38/error-screenshot.png 295w,\n/static/2e4abca526d47cf7c869109c298e8b2c/53236/error-screenshot.png 545w\"\n        sizes=\"(max-width: 545px) 100vw, 545px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>I’m using Spring MVC.<br>\nThe form will submit fine if there are no errors but fails with a 400 error if there’s a validation problem.  </p>\n<p>It’s likely the curse of the evil copy and paste.  </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span>method <span class=\"token operator\">=</span> <span class=\"token class-name\">RequestMethod</span><span class=\"token punctuation\">.</span>POST<span class=\"token punctuation\">,</span> value <span class=\"token operator\">=</span> <span class=\"token string\">\"/something\"</span><span class=\"token punctuation\">)</span>  \n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">somethingPost</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Model</span> model<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Valid</span> <span class=\"token class-name\">SomeForm</span> form<span class=\"token punctuation\">,</span>   \n            <span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">,</span> <span class=\"token class-name\">BindingResult</span> result<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  </code></pre></div>\n<p>So it looks harmless enough but it should look like this  </p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span>method <span class=\"token operator\">=</span> <span class=\"token class-name\">RequestMethod</span><span class=\"token punctuation\">.</span>POST<span class=\"token punctuation\">,</span> value <span class=\"token operator\">=</span> <span class=\"token string\">\"/something\"</span><span class=\"token punctuation\">)</span>  \n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">somethingPost</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Model</span> model<span class=\"token punctuation\">,</span> <span class=\"token annotation punctuation\">@Valid</span> <span class=\"token class-name\">SomeForm</span> form<span class=\"token punctuation\">,</span>   \n            <span class=\"token class-name\">BindingResult</span> result<span class=\"token punctuation\">,</span> <span class=\"token class-name\">HttpServletRequest</span> req<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>  </code></pre></div>\n<p>The Binding result must follow the form, I had pasted <code class=\"language-text\">HttpServletRequest req</code> in between them and borked the binding.  </p>\n<p><a href=\"http://docs.spring.io/spring/docs/4.1.x/spring-framework-reference/html/mvc.html#mvc-ann-methods\">http://docs.spring.io/spring/docs/4.1.x/spring-framework-reference/html/mvc.html#mvc-ann-methods</a>  </p>\n<blockquote>\n<p>org.springframework.validation.Errors /  org.springframework.validation.BindingResult validation results for a preceding command or form object (the immediately preceding method argument).</p>\n</blockquote>","frontmatter":{"title":"Http 400 Error Submitting a Form With Errors With Spring","date":"January 19, 2015"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2015-01-19-http-400-error-submitting-form-with/","previous":{"fields":{"slug":"/2015-01-19-null-argument-starting-tomcat-in-eclipse/"},"frontmatter":{"title":"Null Argument Starting Tomcat in Eclipse"}},"next":{"fields":{"slug":"/2015-01-19-getting-oracle-sequence-in-spring/"},"frontmatter":{"title":"Getting an Oracle Sequence in Spring"}}}}