{"data":{"site":{"siteMetadata":{"title":"Random Stuff About Stuff","author":"David Kerwick"}},"markdownRemark":{"id":"33b49d79-626d-53c1-a3c0-fe53ffdc4af9","excerpt":"Update So it’s covered in the Java Plugin release  here  but it’s meant to be a warning I think, not totally stop working like happened in my install, I must be…","html":"<p><strong>Update</strong></p>\n<p>So it’s covered in the Java Plugin release <a href=\"https://www.sonarsource.com/resources/product-news/news.html#sonarjava-5-12\">here</a> but it’s meant to be a warning I think, not totally stop working like happened in my install, I must be doing something different.</p>\n<p>I have been using Sonarqube in a local docker container for a while now, but just today the quality gates started failing, due to not enough code coverage. Looking at the results there was a fairly substantial drop in the overall test coverage.</p>\n<p>After some poking about it became apparent that it wasn’t including anything from the Integration Tests that were run. The test number count was right just no coverage from them.</p>\n<p>After running a fresh analysis I noticed a warning on the console stating that <code class=\"language-text\">sonar.jacoco.reportPaths</code> was being replaced by <code class=\"language-text\">sonar.coverage.jacoco.xmlReportPaths</code>, I googled that add found <a href=\"https://docs.sonarqube.org/display/PLUG/Java+Unit+Tests+and+Coverage+Results+Import\">this</a> which doesn’t give a whole lot of info but seems to be the route cause of the problem so in my <code class=\"language-text\">pom.xml</code> I changed</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>sonar.jacoco.reportPaths</span><span class=\"token punctuation\">></span></span>target/jacoco.exec, target/jacoco-it.exec<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>sonar.jacoco.reportPaths</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>to</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>sonar.coverage.jacoco.xmlReportPaths</span><span class=\"token punctuation\">></span></span>target/site/jacoco/jacoco.xml, target/site/jacoco-it/jacoco.xml<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>sonar.coverage.jacoco.xmlReportPaths</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>and the test coverage went back to normal. Maybe that warning should be an error.</p>","frontmatter":{"title":"Sonarqube missing Integration Test coverage","date":"April 18, 2019"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2019-04-18-sonarqube-missing-test-coverage/","previous":{"fields":{"slug":"/2019-04-16-intellij-tomcat-in-docker-container/"},"frontmatter":{"title":"IntelliJ working with a Tomcat Docker container"}},"next":null}}