{"data":{"site":{"siteMetadata":{"title":"Random Stuff About Stuff","author":"David Kerwick"}},"markdownRemark":{"id":"ff592b87-c979-5fbd-b934-e163fece29fc","excerpt":"So while I’m no Linux admin I end up having to do the odd thing on test servers, which generally involves some head scratching and googling as I do it so rarely…","html":"<p>So while I’m no Linux admin I end up having to do the odd thing on test servers, which generally involves some head scratching and googling as I do it so rarely.  So this is one for the time vault as I really doubt I’ll be adding users to a server on a regular basis.</p>\n<p>The problem was a couple of new test servers needed to be created and everyone in the team given a login.  Now there’s talk of a jumpbox coming but in the mean time I needed a quick way of creating all the users and of course there’s a command for that <code class=\"language-text\">newusers</code> which can be passed in a file with the users listed.</p>\n<p>An example line in the file would be</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">david:david:607:607:david:/home/david:/bin/bash</code></pre></div>\n<p>So that’s</p>\n<ol>\n<li>Username</li>\n<li>Password</li>\n<li>User Id</li>\n<li>Primary Group Id</li>\n<li>Display name</li>\n<li>Home Directory</li>\n<li>Default shell</li>\n</ol>\n<p>Beware the copy and paste monster on this one, I got busted by forgetting to change the user id’s and therefore actually set everyone up as the one user… DOH</p>\n<p>The next thing was to add all the users to a particular group, wheel for example.\nI could set it as the primary group in the above file but I wanted to add to the secondary groups.  I couldn’t find anything so I created a little script that just runs the commands</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/sh</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">usermod</span> -G wheel david</code></pre></div>\n<p>Just add a line for each user</p>","frontmatter":{"title":"Bulk adding users in linux","date":"September 06, 2015"}}},"pageContext":{"slug":"/2015-09-06-bulk-adding-users-in-linux/","previous":{"fields":{"slug":"/2015-09-06-moving-from-macports-to-homebrew/"},"frontmatter":{"title":"Moving from MacPorts to Homebrew"}},"next":{"fields":{"slug":"/2015-09-06-getting-osx-to-use-the-windows-domain-ntp-server/"},"frontmatter":{"title":"Getting OSX to use the windows domain ntp server"}}}}