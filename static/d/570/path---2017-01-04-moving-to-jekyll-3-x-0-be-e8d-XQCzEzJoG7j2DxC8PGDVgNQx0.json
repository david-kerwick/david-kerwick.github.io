{"data":{"site":{"siteMetadata":{"title":"Random Stuff About Stuff","author":"David Kerwick"}},"markdownRemark":{"id":"e204ac5d-ee62-502b-804b-f1f216c6c0e2","excerpt":"So big gap in the posts again, life does have a way of getting in the way of blogging. Anyway turns out Jekyll has moved on a good bit, I’ve new machines so I…","html":"<p>So big gap in the posts again, life does have a way of getting in the way of blogging.</p>\n<p>Anyway turns out Jekyll has moved on a good bit, I’ve new machines so I need to set up again\nand ‘upgrade’ the site with anything that is new or breaking.</p>\n<p>The recommendations for installing Jekyll changed slightly, bundler seems to be the preferred way\nand this I think means you can link it to the version github pages uses which makes great sense to me</p>\n<p>The main site just mentions the lines to get started but I found this page</p>\n<p><a href=\"https://help.github.com/articles/setting-up-your-github-pages-site-locally-with-jekyll/\">Setting up Github pages</a></p>\n<p>The version on Ruby on the Mac is still ancient so update it using\n<a href=\"../2016-02-05-jekyll-stopped-working-then-error-trying-to-install\">details in this post</a></p>\n<p>As a quick reminder that’s</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">brew <span class=\"token function\">install</span> rbenv ruby-build\nrbenv <span class=\"token function\">install</span> 2.3.3\nrbenv global 2.3.3</code></pre></div>\n<p>Don’t forget to follow the caveats it tells you. i.e. add <code class=\"language-text\">eval &quot;$(rbenv init -)&quot;</code> to your profile.</p>\n<p>Then the new method is to install bundler, create a Gemfile and then use bundler to install Jekyll and github-pages</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">gem <span class=\"token function\">install</span> bundler\n<span class=\"token function\">vi</span> Gemfile\n  <span class=\"token function\">source</span> <span class=\"token string\">'https://rubygems.org'</span>\n  gem <span class=\"token string\">'github-pages'</span>, group: :jekyll_plugins\nbundle <span class=\"token function\">install</span></code></pre></div>\n<p>With this the method of running the site seems to have changed to use bundler to preview the site locally</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">bundle <span class=\"token function\">exec</span> jekyll serve --drafts</code></pre></div>\n<p>And well that seems to be it. My site seems to still work as well as it did before…</p>\n<p>Except there’s the odd issue here and there, nothing major by the looks of it. Mainly code highlighting, my blogging nemesis!\nI think it’s because I have the very old baked in theme and 3.X comes with it’s own theme system.</p>\n<p>My files will be overriding the default theme but would guess they are a bit outdated. I have also customised it the odd time over the years.\nSo I think if I’m going to move to Jekyll 3 may as well make the whole big move now, it should hopefully mean easier upgrades in the future… right?</p>\n<p>So I think the best way of going about that is to create a blank site with the new generator, add my posts in and then attempt to add back in any customisation I need from the old site.  Remembering what those were and why I did them could be fun, but my theory is if they are not that important they won’t show up again or have being fixed by the new theme or they will show up quickly and I’ll deal with them then.</p>\n<p>I hadn’t stayed too far from the defaults so it’s a fairly easy process. Set up new site using</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">jekyll new my-awesome-site</code></pre></div>\n<p>Copy in your _drafts, _posts and assets directories</p>\n<p>Update your new config file with your title, email, etc…</p>\n<p>Copy across the about.md file.</p>\n<p>If you are using github-pages which I am, update your Gemfile to use the github-pages gem rather than the Jekyll one.</p>\n<p>Test it out and once you are happy, delete everything but the .git folder in your actual blog and copy the new awesome version into it.</p>\n<p>Commit that and you should be rocking a clean Jekyll 3 site.</p>\n<p>So with the Minima theme that’s the Jekyll default rather than <a href=\"../2015-06-22-add-google-analytics-to-jekyll\">this post</a>\nyou can just add</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">google_analytics: <span class=\"token operator\">&lt;</span>YOUR CODE<span class=\"token operator\">></span></code></pre></div>\n<p>to your <code class=\"language-text\">_config.yml</code> file.</p>\n<p>I’ll have to see about adding the Google Tag manager at some point but I’m only using Analytics for now so that’s definitely the easy way.</p>","frontmatter":{"title":"Moving to Jekyll 3.x","date":"January 04, 2017"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2017-01-04-moving-to-jekyll-3x/","previous":{"fields":{"slug":"/2017-01-04-combining-zsh-history-files/"},"frontmatter":{"title":"Combining zsh history files"}},"next":{"fields":{"slug":"/2017-01-05-adding-eu-cookie-message/"},"frontmatter":{"title":"Adding EU cookie message"}}}}