{"data":{"site":{"siteMetadata":{"title":"Random Stuff About Stuff","author":"David Kerwick"}},"markdownRemark":{"id":"ba0706fd-9b8f-558c-91ee-05517d750d2f","excerpt":"Intro So I needed to set up a machine for php development but rather than use a server I reckoned now would be a good time to try and set up Docker so that the…","html":"<h1>Intro</h1>\n<p>So I needed to set up a machine for php development but rather than use a server I reckoned now would be a good time to try and set up Docker so that the server will be local, I can easily bring it up and down, change config, lightning fast and all the other things Docker promises.</p>\n<h1>Installation</h1>\n<p>Docker has the installation pretty well covered as you can imagine\n<a href=\"https://docs.docker.com/mac/\">https://docs.docker.com/mac/</a></p>\n<p>I went with the more manual option as I kind of wanted to know more about what’s going on\n<a href=\"https://docs.docker.com/engine/installation/mac/#from-your-shell\">https://docs.docker.com/engine/installation/mac/#from-your-shell</a></p>\n<p>So a quick copy of what’s happening</p>\n<p>Download and install the <a href=\"https://www.docker.com/products/docker-toolbox\">Docker ToolBox</a></p>\n<p>Create a ‘default’ docker machine — on a Mac you need a linux base</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker-machine create --driver virtualbox default</code></pre></div>\n<p>You should now have a default machine, check with</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker-machine <span class=\"token function\">ls</span></code></pre></div>\n<p>Should give you something like</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">NAME      ACTIVE   DRIVER       STATE     URL   SWARM   DOCKER    ERRORS\ndefault   -        virtualbox   Stopped                 Unknown</code></pre></div>\n<p>You then need to start it (I only have one so fairly simple)</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker-machine start</code></pre></div>\n<p>To get info on this machine</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker-machine <span class=\"token function\">env</span></code></pre></div>\n<p>Should give you something like this</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">export</span> DOCKER_TLS_VERIFY<span class=\"token operator\">=</span><span class=\"token string\">\"1\"</span>\n<span class=\"token function\">export</span> DOCKER_HOST<span class=\"token operator\">=</span><span class=\"token string\">\"tcp://192.168.99.100:2376\"</span>\n<span class=\"token function\">export</span> DOCKER_CERT_PATH<span class=\"token operator\">=</span><span class=\"token string\">\"/Users/David/.docker/machine/machines/default\"</span>\n<span class=\"token function\">export</span> DOCKER_MACHINE_NAME<span class=\"token operator\">=</span><span class=\"token string\">\"default\"</span>\n<span class=\"token comment\"># Run this command to configure your shell:</span>\n<span class=\"token comment\"># eval $(docker-machine env)</span></code></pre></div>\n<p>So run what it tells you to run in order to set the terminal up for docker commands</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">eval</span> <span class=\"token variable\"><span class=\"token variable\">$(</span>docker-machine <span class=\"token function\">env</span><span class=\"token variable\">)</span></span></code></pre></div>\n<h1>Test It</h1>\n<p>If everything worked you can test it with</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker run hello-world</code></pre></div>\n<p>Which will print a hello from Docker.</p>\n<h1>Shell Completion</h1>\n<p>So as you may know I use the ZSH shell with Oh-My-Zsh.\nIt has command auto completion for docker.\nOpen up your .zshrc and find the line for plugins\nAnd add docker to it, for example</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">plugins<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span>git mvn z history-substring-search docker<span class=\"token punctuation\">)</span></code></pre></div>","frontmatter":{"title":"Getting started with Docker","date":"April 06, 2016"}}},"pageContext":{"slug":"/2016-04-06-getting-started-with-docker/","previous":{"fields":{"slug":"/2016-03-15-adding-spell-check-to-sublime-3/"},"frontmatter":{"title":"Adding spell check to Sublime 3"}},"next":{"fields":{"slug":"/2016-04-06-testing-out-docker-with-apache/"},"frontmatter":{"title":"Testing out Docker with apache"}}}}